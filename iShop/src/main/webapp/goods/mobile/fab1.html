<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>测试</title>
	<style>
		.click{
			width:50px;
			height:30px;
		}
	</style>
</head>
<body>
	<button onclick="getAppUserInfo();" class="click">测试2</button>	
</body>
<script>
	// function iShop(){
	// 	this.version = "1.0.1";	
	// 	//获取手机系统
	// 	this.getOSType = function(){
	// 		var browser = navigator.userAgent;
	// 		var browser = navigator.userAgent;
	// 		var isAndroid = browser.indexOf('Android') > -1 || browser.indexOf('Adr') > -1; //android终端 
	// 		var isiOS = !!browser.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端

	// 		if(isAndroid){
	// 			return "Android";
	// 		}else if (isiOS) {
	// 			return "iOS";
	// 		}else{
	// 			return "Unknown"
	// 		}
	// 	}
	// 	//获取iShop用户信息
	// 	this.user = function(){
	// 		var osType = this.getOSType();
	// 		var userInfo = null;
	// 		try{
	// 			for(var i=0;i<10000;i++){
	// 				if(osType=="iOS"){
	// 					// alert("iOS");
	// 					userInfo = NSReturnUserInfo();
	// 				}else if(osType == "Android"){
	// 					// alert("Android");
	// 					userInfo = iShop.ReturnUserInfo();
	// 					// alert(userInfo);
	// 				}else{
	// 					// alert("123");
	// 				}
	// 				// return userInfo;
	// 			}
	// 	    }
	// 		catch(err){
	// 			alert(err);
	// 		}
	// 		// alert(userInfo);
	// 		// return userInfo;
	// 	}
 //    }
 //    var a=new iShop();

function getWebOSType(){
		var browser = navigator.userAgent;
		var browser = navigator.userAgent;
		var isAndroid = browser.indexOf('Android') > -1 || browser.indexOf('Adr') > -1; //android终端 
		var isiOS = !!browser.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端
		if(isAndroid){
			return "Android";
		}else if (isiOS) {
			return "iOS";
		}else{
			return "Unknown"
		}
	}
	//获取iShop用户信息
	function getAppUserInfo(){
		try{
			for (var i = 0; i <= 1000; i++) {
					var osType = getWebOSType();
				var userInfo = null;
				if(osType=="iOS"){
					userInfo = NSReturnUserInfo();
				}else if(osType == "Android"){
					userInfo = iShop.ReturnUserInfo();
				}
			}
		}
		catch(err){
			alert(err);
		}
		return userInfo;
	}
	function doAppWebRefresh(){
		var osType = getWebOSType();

		if(osType=="iOS"){
			userInfo = NSRefreshWebView();
		}else if(osType == "Android"){
			userInfo = iShop.RefreshWebView();
		}
		
	}


</script>
</html>